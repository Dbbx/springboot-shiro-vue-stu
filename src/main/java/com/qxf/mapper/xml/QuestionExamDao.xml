<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qxf.mapper.QuestionExamDao">

    <resultMap type="com.qxf.pojo.QuestionExam" id="QuestionExamMap">
        <result property="id" column="id" jdbcType="VARCHAR"/>
        <result property="examDesc" column="exam_desc" jdbcType="VARCHAR"/>
        <result property="examCourse" column="exam_course" jdbcType="VARCHAR"/>
        <result property="paperId" column="paper_id" jdbcType="VARCHAR"/>
        <result property="examDate" column="exam_date" jdbcType="OTHER"/>
        <result property="totalTime" column="total_time" jdbcType="INTEGER"/>
        <result property="major" column="major" jdbcType="VARCHAR"/>
        <result property="institute" column="institute" jdbcType="VARCHAR"/>
        <result property="totalScore" column="total_score" jdbcType="INTEGER"/>
        <result property="examType" column="exam_type" jdbcType="VARCHAR"/>
    </resultMap>

    <!--查询指定行数据-->
    <select id="getListByPage" parameterType="string"  resultMap="QuestionExamMap">
        select
          id, exam_desc, exam_course, paper_id, exam_date, total_time, major, institute, total_score, exam_type
        from question_exam
        WHERE 1=1
        <if test=" name != null and name != '' ">
            AND exam_course LIKE CONCAT('%',#{name},'%')
        </if>
    </select>

    <!--根据id查询考试安排-->
    <select id="getExamById" parameterType="string" resultMap="QuestionExamMap">
        select
          id, exam_desc, exam_course, paper_id, exam_date, total_time, major, institute, total_score, exam_type
        from question_exam
        where id=#{id}
    </select>


</mapper>